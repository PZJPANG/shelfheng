{% extends "layout.html" %}

{% block title %}
Search 
{% endblock %}

{% block body %}

<style>
:root{
  --bg:#0f0f11; --elev:#17171a; --text:#ececf3; --border:#2a2a31;
  --gold:#f2c14e; --gold-700:#d4a52a;
}
.search-page{ max-width:720px; margin:56px auto; padding:0 20px; color:var(--text); }
.search-title{
  font-weight:800; font-size:clamp(34px,6vw,72px);
  text-align:center; margin:8px 0 22px; letter-spacing:.5px;
}
.search-card{
  background:linear-gradient(180deg,#1c1c21,#141416);
  border:1px solid var(--border); border-radius:18px;
  box-shadow:0 10px 30px rgba(0,0,0,.35); padding:28px;
}
.input-row{ display:flex; gap:10px; }
.search-input{
  flex:1; min-width:0; font-size:18px; padding:12px 14px; text-align:left;
  border-radius:10px; border:1px solid var(--border);
  background:#1b1b1f; color:var(--text);
}
.search-input::placeholder{ color:#9a9aaa; }
.search-input:focus{
  outline:none; border-color:var(--gold);
  box-shadow:0 0 0 2px rgba(242,193,78,.3);
}
.btn{
  padding:12px 22px; border-radius:12px; border:1px solid #c99823;
  background:linear-gradient(180deg,var(--gold),var(--gold-700));
  color:#fff; font-weight:700; cursor:pointer; white-space:nowrap;
  box-shadow:0 4px 12px rgba(0,0,0,.25);
}
.btn:hover{ filter:brightness(1.05); transform:translateY(-1px); transition:.12s ease; }
.note{
  margin-top:14px; font-size:14px; padding:10px 12px; border-radius:10px;
  border:1px solid var(--border);
}
.note.ok{ color:#b7f7c2; background:#132017; border-color:#2b4a33; }
.note.err{ color:#ffd7d7; background:#2a1717; border-color:#4d2b2b; }
.result-line{ font-size:16px; }
</style>

<div class="search-page">
  <h1 class="search-title">Search for your item</h1>

  <div class="search-card">
    <form action="/search" method="POST" id="search-form">
      <div class="input-row">
        <input class="search-input" autocomplete="off" autofocus name="q"
               id="q" placeholder="Search your item" type="search" required>
        <button class="btn" type="submit">Search</button>
      </div>

      {% if items %}
        {% for item in items %}
          <div class="note ok result-line">
            Found: <strong>{{ item.name }}</strong> â€” {{ item.house_name or item.place }}, {{ item.shelf }}
          </div>
        {% endfor %}
      {% else %}
        <div class="note err">The item does not exist.</div>
      {% endif %}
    </form>
  </div>
</div>

<script>
  // Submit on Enter from input (prevents double submit on some browsers)
  const q = document.getElementById('q');
  const form = document.getElementById('search-form');
  q?.addEventListener('keydown', e => { if (e.key === 'Enter') form.submit(); });
</script>

{% endblock %}
